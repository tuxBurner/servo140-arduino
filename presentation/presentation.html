<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>How to pimp my carrera Bahn</title>

		<meta name="description" content="How to pimp my carrera Bahn">
		<meta name="author" content="Sebastian Hardt">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="reveal.js/css/reveal.min.css">
		<link rel="stylesheet" href="reveal.js/css/theme/moon.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>How to pimp my carrera Bahn</h1>
					<h3>Wie ich meine alte Carrera Bahn getuned habe</h3>
					<p>
						<small>Created by <a href="http://github.com/tuxBurner">Sebastian Hardt</a> / <a href="https://twitter.com/SebasthSeppel">@SebasthSeppel</a></small>
					</p>
				</section>

				<section>
					<img src="images/servo140.gif" />
					<p>
						Eckdaten
					</p>
					<ul>
						<li>1979 bis 2000</li>
						<li>Maßstab 1:40 daher 140</li>
						<li>Echter Spurwechsel möglich. Autos können auf beiden Seiten fahren. Heutzutage wird das mit Weichen gelöst.</li>
						<li>Verschiedene Typen von Autos V1, V2 und V3</li>
            <li>Verschiedene Schienen Varianten (dünne und breite Leiterbahnen)</li>
						<li>Spurgebundenens Fahren möglich.</li>
					</ul>
				</section>


				<section>
					<section>
					  <h2>Mein Weg zur Servo</h2>
					  <img src="images/xmas.jpg" />
						<h4>1992 habe ich meine Bahn zu Wheinachten bekommen.</h4>
					</section>
					<section>
						<h2>Weitere Schritte</h2>
					  <ul>
						  <li>Wegen zu "fricklicken" Spurwechsel meistens Spurgebunden gefahren</li>
							<li>Vergessen bis 2001, wo ich Sie dann wieder in der WG aufgebaut habe. Leider war Sie dann im feuchten Keller :(</li>
						  <li>2005 habe ich bei Ebay ein "kleines" Päckchen (2mx2mx1m) weiterer Teile geschossen. My wife was not amused :P</li>
						  <li>2006 habe ich was vom Sperrmüll aufgesammelt und alte Schienen bei meinem Vatter im Keller gefunden.</li>
							<li>2010 ein paar Autos geschossen auf der Bucht.</li>
					  </ul>
				  </section>
				  <section>
						<h2>So sieht das dann aus ca 30 Meter Schiene :)</h2>
						<img width="75%" src="images/konvult.jpg" />
						<img src="images/_tim05.gif" />
					</section>

				</section>

				<section>
					<section>
					  <h2>Wie funktioniert das nun ?</h2>
            <p>
					    Für jedes Auto gibt es 2 Leiterbahnen auf jeder Seite der Schiene.
					  </p>
						<img src="images/anschluss_schiene.jpg" />
				  </section>
					<section>
						<h2>Auto kann auf Spur A oder B fahren</h2>
						<img src="images/auto_schleifer.jpg" />
						<img src="images/schiene_auto.jpg" />
					</section>
					<section>
						<h4>Lenkung</h4>
						<p>
							Beim Lenken wird der Strom umgepolt.
							Dabei dreht sich der Motor in die andere Richtung und die Lenkung wird umgestellt.
							Über ein Ritzel und die Fliegkraft fährt das Auto dabei immer geradeaus.
						</p>
						<img src="images/autolinks.jpg" />
						<img src="images/autorechts.jpg" />
					</section>

					<section>
					  <h4>Regler</h4>
						<img width="45%" src="images/Servo-Regler_links.GIF" />
						<img width="45%" src="images/Servo-Regler_rechts.GIF" />
					</section>

					<section>
						<h4>Geschwindigkeit</h4>
						<p>
						 35 Ohm
						</p>
						<img width="40%" src="images/Regler_Widerstand_17_5.GIF" />
					</section>

					<section>
					  <h1>Aufbau der</h1>
						<img src="images/Old-School.jpg" />
						<h1>Variante</h1>
					</section>
				</section>

				<section>
					<section>
					  <h1>Nerviges Problem !!11!!</h1>
						<p>Die karren fliegen andauernd raus und man muss uffstehen :(</p>
						<img style="height: 300px;" src="images/210-kmh-in-die-kurve.jpg" />
					</section>
					<section>
						<h1>Einfache Lösung langes Kabel drann :)</h1>
					</section>
					<section>
						<h1>OOOOOder ?</h1>
					</section>
			  </section>
				<section>
					<h1>Lets pimp it :)</h1>
					<ul>
					  <li>Idee kam von: <a href="http://www.servospeedway.de/Basteleien/Servo-Regler/Wireless/wireless.html">servospeedway.de</a></li>
						<li>Hatte ein paar Brocken üprig</li>
						<li>Nachteil das man den Sender umbauen muss wegen der Lenkung.</li>
						<li>Thomas davon erzählt, doch der hatte eine andere Idee: <b>Nimm einen Arduino ! Ist gaaaaanz einfach</b></li>
						<li>Fand die erst solala, weil wegen Löten und blauen Qualm.</li>
						<li>Micromata HackerSpace Arduino Starter Pack.</li>
					</ul>
					<img src="images/UC-020.jpg" />
				</section>

				<section>
					<section>
						<h1>Arduino UNO</h1>
						<table>
							<tr>
								<td>
						      <ul style="font-size: 18px;">
						        <li>Microcontroller	ATmega328</li>
                    <li>Operating Voltage	5V</li>
                    <li>Input Voltage (recommended)	7-12V</li>
                    <li>Input Voltage (limits)	6-20V</li>
                    <li>Digital I/O Pins	14 (of which 6 provide PWM output)</li>
                    <li>Analog Input Pins	6</li>
                    <li>DC Current per I/O Pin	40 mA</li>
                    <li>DC Current for 3.3V Pin	50 mA</li>
                    <li>Flash Memory	32 KB (ATmega328) of which 0.5 KB used by bootloader</li>
                    <li>SRAM	2 KB (ATmega328)</li>
                    <li>EEPROM	1 KB (ATmega328)</li>
                    <li>Clock Speed	16 MHz</li>
                  </ul>
					      </td>
					      <td>
						      <img src="images/ArduinoUnoFront450px.jpg" />
					      </td>
					    </tr>
					  </table>
					</section>

					<section>
						<h4>Auslesen des Empfängers</h4>
            <p>Super einfach. Den Empfänger mit dem 5v und Gnd verbinden und einen Channel Pin an den Arduino anschliessen.</p>
						<img height="300" src="images/RC_Rec_bb.jpg" />
						<img height="300" src="images/pwm-300x247.png" />
						<pre>
							<code data-trim contenteditable>
//setup
pinMode(steer1Pin, INPUT);
long initialSteer1 = pulseIn (steer1Pin, HIGH); // read initialsteer value

//loop
long steer1Value = pulseIn (steer1Pin, HIGH, 20000);
long steer1 = (steer1Value - initialSteer1);
steer1 = constrain (steer1, -600, 600);
							</code>
						</pre>
			    </section>

					<section>
						<h4>Motor Steuerung</h4>
						<p>L298 H-Brücke nimt ein LowVoltage PWM Signal vom Arduino an und macht HighVoltage PWM für den Motor</p>
            <img src="images/712px-DRI0002_CD.jpg" />
					</section>
					<section>
						<h2>Motor Steuerung PWM</h2>
						<img src="images/pwm.gif" />
					</section>
					<section>
						<h2>Motor Steuerung Code</h2>
						<pre>
							<code data-trim contenteditable>
// setup
pinMode(_motorPin1,OUTPUT);
pinMode(_motorPin2,OUTPUT);

// loop
if(_steerRight == true) {
  digitalWrite(_motorPin1, LOW);
  analogWrite(_motorPin2,_thrust);
} else {
  digitalWrite(_motorPin2, LOW);
  analogWrite(_motorPin1,_thrust);
}
						  </code>
					  </pre>
					</section>

					<section>
						<h1>Rundenzähler</h1>
						<p>Verinfacht ein Schalter auf einen Pin gelegt. Wenn dieser geschlossen ist, hat ein Auto eine Runde beendet.</p>
						<p>Debouncing damit ein bischen Zeit vergeht bis wieder ausgelesen wird.</p>
						<p>Interrupt von nöten sonst kann es sein das der Arduino nichts mitbekommt.</p>
					</section>

					<section>
						<h1>Startampel</h1>
						<ul>
						  <li>Erst mit einem Shieberegister gelöst, was aber viel Kabellage mit sich brachte :(</li>
							<li><b>Aber: </b>Schieberegister ist einfach mit Arduino</li>
							<li>ws2812 onewire LED Streifen: günstig, RGB, <a href="http://fastled.io/">FastLed</a> Libary für Arduino</li>
					  </ul>
						<img src="images/arduino_usb_and_extrenal_power_ws2812.jpg" />
					</section>
				</section>

				<section>
					<section>
					  <h1>Serial</h1>
					  <p>Wenn man  Daten auslesen oder schicken will an den Arduino, kann man ein eignes Protokoll über Serielle-Schnittstelle machen.</p>
            <pre>
	            <code data-trim contenteditable>
Serial.print(currStartLight);
Serial.print(",");
Serial.print(powerOn);
Serial.print(",");
Serial.print(thrust1);
Serial.print(",");
Serial.print(right1);
Serial.println("");
              </code>
            </pre>
				  </section>
					<section>
						<h3>Mein Protokoll</h3>

						<code>-1,0,0,1,50000,0,0,0,50000,0,40917,0,41045,0</code>

						<ol>
							<li>Licht: -1 aus, 1-4 Licht an</li>
							<li>Bahn  Strom an oder aus</li>
							<li>Auto A links oder rechts</li>
							<li>Auto A Power 0-255</li>
							<li>Auto A Tankfüllung</li>
							<li>Auto A Auftankrestzeit</li>
							<li>Auto B links oder rechts</li>
							<li>Auto B Power 0-255</li>
							<li>Auto B Tankfüllung</li>
							<li>Auto B Auftankrestzeit</li>
							<li>Auto A Rundenzeit</li>
							<li>Auto A Runde beendet</li>
							<li>Auto B Rundenzeit</li>
							<li>Auto B Runde beendet</li>
						</ol>

					</section>
				</section>

			  <section>
				  <h1>Oberfläche:</h1>
					<ul>
						<li>Serial gibt die Möglichkeit eine Klicki Bunti Oberfläche zu bauen.</li>
						<li>Erste Versuche mit JavaFx mit dem ich aber nicht warm geworden bin.</li>
						<li>Jetzt eine Play Applikation mit Websocket Kommunikation und JS Oberfläche.</li>
						<li>Fummelig war die Java Serial Libary.</li>
					</ul>
				</section>

				<section>
					<section>
					  <h3>Impressionen</h3>
					  <img src="images/impress/01.jpg" />
				  </section>
					<section>
						<h3>Impressionen</h3>
						<img src="images/impress/IMAG0096_BURST002.jpg" />
					</section>
					<section>
						<h3>Impressionen</h3>
						<img src="images/impress/IMAG0100.jpg" />
					</section>
					<section>
						<h3>Impressionen</h3>
						<img src="images/impress/IMAG0106.jpg" />
					</section>
					<section>
						<h3>Impressionen</h3>
						<img src="images/impress/IMAG0108.jpg" />
					</section>
					<section>
						<h3>Impressionen</h3>
						<img src="images/impress/IMAG0113.jpg" />
					</section>
					<section>
						<h3>Impressionen</h3>
						<img src="images/impress/IMAG0114.jpg" />
					</section>
					<section>
						<h3>Impressionen</h3>
						<img src="images/impress/IMAG0115.jpg" />
					</section>
					<section>
						<h3>Impressionen</h3>
						<img src="images/impress/IMAG0118.jpg" />
					</section>
					<section>
						<h3>Impressionen</h3>
						<img src="images/impress/IMAG0120.jpg" />
					</section>
					<section>
						<h3>Impressionen</h3>
						<img src="images/impress/IMAG0122.jpg" />
					</section>
					<section>
						<h3>Impressionen</h3>
						<img src="images/impress/IMAG0123.jpg" />
					</section>
					<section>
						<h3>Impressionen</h3>
						<img src="images/impress/IMAG0221.jpg" />
					</section>
					<section>
						<h3>Impressionen</h3>
						<img src="images/impress/IMAG0223.jpg" />
					</section>
				</section>

				<section>
					<h2>Aufbau und Vorführung</h2>
					<img src="images/michael-buffer.jpg" />
				</section>

				<section>
					<h3>Code unter</h3>
					<h3><a href="https://github.com/tuxBurner/servo140-arduino">https://github.com/tuxBurner/servo140-arduino</a></h3>
				</section>


			</div>

		</div>

		<script src="reveal.js/lib/js/head.min.js"></script>
		<script src="reveal.js/js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
